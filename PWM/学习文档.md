# PWD学习文档

#### 介绍：
PWM模块是指脉冲宽度调制器，用于设置数字脉冲，其中高电平在周期内占比表示占空比，之后利用滤波器将数字脉冲转化成模拟电压进而控制平均电压输出。目前脉冲宽度调制有两种方式：软件调制和硬件调制，计算系统中主要通过PWM定时器配置自动生成调制脉冲。

#### 关键要点：
PWM的频率选择应该根据具体场景设置，同时将PWM调制脉冲转换成模拟电压需要设计滤波电路。PWM输出的驱动电流较小，特定场景需要配合驱动电路。

#### PWM定时器核心参数：
预分频系数（stm32分频系数为预分频系数+1）：由于芯片频率太快，所以需要分频系数降低计数频率，防止计数太快。
CCR（比较值）：当计数到CCR时，电平转换
ARR（自动重载值）：当计数到ARC时，计数器重载

#### 核心公式
计数频率=系统时钟频率/（预分频系数+1）  
PWM周期=ARR/计数频率  
占空比=CCR/（ARR+1）  
