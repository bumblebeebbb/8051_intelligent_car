## SPI
### 简介
SPI是指串行外设接口，属于全双工同步串行通信协议，核心特点是“高速全双工主控专属”，通过片选线选择从机，适合主控和告诉外设之间的通信

### 协议内容
#### 物理层
- 信号线组成与作用  
SCK：时钟线，由主控产生用于同步数据  
MOSI（master out slave in）：主控输出线  
MISO（master in slave out）：主控输入线  
CS/SS：片选线，每个从机对应一根，主控拉低通信从机，其余没有拉低的从机忽略数据信号  

- 接线规则  
通用sck mosi miso线  
每个从机对应一根CS线  
部分从机可简化掉MISO线，只单向传输  

#### 协议层
- 时钟模式  （暂时是错的）

| 模式 | CPOL | CPHA | 采样/发送时机 |
|:----------:|:----------:|:----------:|:----------:|
|0|0（空闲时低电平）|0|上升沿采 下降沿发|
|1|0|1|上升沿发 下降沿采|
|2|1（空闲时高电平）|0|上升沿采 下降沿发|
|3|1（空闲时高电平）|1|上升沿发 下降沿采|

- 关键参数
  - 通信速率
  - 数据位宽
  - 传输顺序：MSB/LSB

 ### 典型应用
- 存储类：Flash 芯片（W25Q64）、SD 卡、TF 卡；
- 显示类：TFT-LCD 屏（ILI9341）、OLED 高速屏；
- 无线类：WiFi 模块（ESP8266/ESP32 SPI 模式）、蓝牙高速模块；
- 外设类：ADC/DAC 芯片、编码器、射频模块。
